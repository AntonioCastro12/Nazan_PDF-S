<div *ngIf="!showDetail">
  <div class="card" style="margin-bottom: 30px;">
    <div class="card-container yellow-container">
      <div class="spinner" *ngIf="isLoading">
        <p-progressSpinner styleClass="w-4rem h-4rem" fill="var(--surface-ground)"
          animationDuration=".5s"></p-progressSpinner>
      </div>
      <div class="block font-bold text-left breport-round mb-3">
        <div>Reporte de logs</div>
      </div>
      <div class="text-left mb-4">
        <div class="mb-2">Filtrar por:</div>
        <div class="card-container blue-container flex align-items-center justify-content-start">
          <div class="flex-1 h-4rem">
            <div class="flex flex-column  p-2">
              <label htmlFor="order_id" class="font-bold">{{reportEntityLabels.level}}</label>
              <input pInputText id="order_id" aria-describedby="order_id-help"
                (input)="handleChangeOrderId($event,'level')" [(ngModel)]="level" />
            </div>
          </div>
          <div class="flex-1 h-4rem">
            <div class="flex flex-column p-2">
              <label htmlFor="from" class="font-bold">Desde</label>
              <p-calendar [(ngModel)]="from" [readonlyInput]="true" (onSelect)="handleDateInput($event,'from')"
                dateFormat="dd/mm/yy" [style]="{'width':'100%'}"></p-calendar>
            </div>
          </div>
          <div class="flex-1 h-4rem">
            <div class="flex flex-column p-2">
              <label htmlFor="to" class="font-bold">Hasta</label>
              <p-calendar [(ngModel)]="to" [readonlyInput]="true" (onSelect)="handleDateInput($event,'to')"
                dateFormat="dd/mm/yy" [style]="{'width':'100%'}"></p-calendar>
            </div>
          </div>
        </div>
        <div class="card-container blue-container flex align-items-center justify-content-start">
          <p class="mt-4"><p-button (onClick)="resetFilters()">Restaurar filtros</p-button></p>
        </div>

      </div>
    </div>
  </div>
  <div ng-if>
    <div class="card">
      <div class="text-right" *ngIf="logState.logState.logList.data.length>0">
        <p class="mt-4"><p-button (onClick)="exportExcel()">Exportar a excel</p-button></p>
      </div>
      <p-table #dt2 [value]="logState.logState.logList.data" [paginator]="true" [rows]="2"
        styleClass="mt-3 p-datatable-sm">
        <ng-template pTemplate="header">
          <tr class="text-sm">
            <th class="text-center" id="{{reportEntityLabels.id}}">{{reportEntityLabels.id}}</th>
            <th class="text-center" id="{{reportEntityLabels.level}}">{{reportEntityLabels.level}}</th>
            <th class="text-center" id="{{reportEntityLabels.message}}">{{reportEntityLabels.message}}</th>
            <th class="text-center" id="{{reportEntityLabels.stacktrace}}">{{reportEntityLabels.stacktrace}}</th>
            <th class="text-center" id="{{reportEntityLabels.createdAt}}">{{reportEntityLabels.createdAt}}</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage" let-columns>
          <tr>
            <td [attr.colspan]="5" class="text-center">
              No records found
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-log>
          <tr class="text-sm">
            <td class="text-center">{{ log.id }}</td>
            <td class="text-center">{{ log.level}}</td>
            <td class="text-center" [style]="{ 'max-width':'150px'}">{{ log.message}}</td>
            <td class="text-center">{{ log.stacktrace }}</td>
            <td class="text-center">{{ log.createdAt | dateTimeFromIso
              | dateTimeToLocal
              | dateTimeToFormat : "dd/MM/yyyy HH:mm a"}}</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
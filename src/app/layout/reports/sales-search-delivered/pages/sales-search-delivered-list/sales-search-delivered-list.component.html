<main class="p-5">
  <div
    class="col-4 text-left"
    *ngIf="_salesSearchDelivered.state.SalesSearchDeliveredResponse.length > 0"
  >
    <span class="p-input-icon-left">
      <i class="pi pi-search"></i>
      <input
        pInputText
        type="text"
        placeholder="Buscar..."
        [(ngModel)]="searchText"
        (ngModelChange)="handleSearchRecords()"
      />
    </span>
  </div>

  <section class="mx-3">
    <p-table
      #dt2
      [value]="_salesSearchDelivered.state.SalesSearchDeliveredResponse"
      [paginator]="true"
      [rows]="15"
      styleClass="mt-3 p-datatable-sm"
      [loading]="_salesSearchDelivered.state.isLoadingList"
    >
      <ng-template pTemplate="header">
        <tr class="text-sm">
          <th
            class="text-center"
            id="{{ SalesSearchDeliveredResponseName.code }}"
          >
            {{ SalesSearchDeliveredResponseName.code }}
          </th>
          <th
            class="text-center"
            id="{{ SalesSearchDeliveredResponseName.name }}"
          >
            {{ SalesSearchDeliveredResponseName.name }}
          </th>
          <th
            class="text-center"
            id="{{ SalesSearchDeliveredResponseName.size }}"
          >
            {{ SalesSearchDeliveredResponseName.size }}
          </th>
          <th
            class="text-center"
            id="{{ SalesSearchDeliveredResponseName.quantity }}"
          >
            {{ SalesSearchDeliveredResponseName.quantity }}
          </th>
          <th
            class="text-center"
            id="{{ SalesSearchDeliveredResponseName.orderAssortment }}"
          >
            {{ SalesSearchDeliveredResponseName.orderAssortment }}
          </th>
          <th
            class="text-center"
            id="{{ SalesSearchDeliveredResponseName.boardinglist }}"
          >
            {{ SalesSearchDeliveredResponseName.boardinglist }}
          </th>
          <th
            class="text-center"
            id="{{ SalesSearchDeliveredResponseName.received }}"
          >
            {{ SalesSearchDeliveredResponseName.received }}
          </th>
          <th
            class="text-center"
            id="{{ SalesSearchDeliveredResponseName.member }}"
          >
            {{ SalesSearchDeliveredResponseName.member }}
          </th>
          <th
            class="text-center"
            id="{{ SalesSearchDeliveredResponseName.memberName }}"
          >
            {{ SalesSearchDeliveredResponseName.memberName }}
          </th>
          <th
            class="text-center"
            id="{{ SalesSearchDeliveredResponseName.phone }}"
          >
            {{ SalesSearchDeliveredResponseName.phone }}
          </th>
          <th
            class="text-center"
            id="{{ SalesSearchDeliveredResponseName.dateReceived }}"
          >
            {{ SalesSearchDeliveredResponseName.dateReceived }}
          </th>
          <th
            class="text-center"
            id="{{ SalesSearchDeliveredResponseName.store }}"
          >
            {{ SalesSearchDeliveredResponseName.store }}
          </th>
          <th
            class="text-center"
            id="{{ SalesSearchDeliveredResponseName.delivered }}"
          >
            {{ SalesSearchDeliveredResponseName.delivered }}
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage" let-columns>
        <tr>
          <td [attr.colspan]="13" class="text-center">
            {{
              _salesSearchDelivered.state.isLoadingList
                ? TEMPLATE_TEXT.isLoadingOn
                : TEMPLATE_TEXT.isResultEmpty
            }}
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-report>
        <tr class="text-sm">
          <td
            class="text-center"
            [innerHTML]="highlightSearchText(searchText, report.codigo)"
          ></td>
          <td
            class="text-center"
            [innerHTML]="highlightSearchText(searchText, report.nombre)"
          ></td>
          <td
            class="text-center"
            [innerHTML]="highlightSearchText(searchText, report.talla)"
          ></td>
          <td
            class="text-center"
            [innerHTML]="highlightSearchText(searchText, report.cantidad)"
          ></td>
          <td
            class="text-center"
            [innerHTML]="highlightSearchText(searchText, report.ordenSurtido)"
          ></td>
          <td
            class="text-center"
            [innerHTML]="highlightSearchText(searchText, report.listaEmbarque)"
          ></td>
          <td
            class="text-center"
            [innerHTML]="highlightSearchText(searchText, report.recibido)"
          ></td>
          <td
            class="text-center"
            [innerHTML]="highlightSearchText(searchText, report.socio)"
          ></td>
          <td
            class="text-center"
            [innerHTML]="highlightSearchText(searchText, report.nombreSocio)"
          ></td>
          <td
            class="text-center"
            [innerHTML]="highlightSearchText(searchText, report.telefono)"
          ></td>
          <td
            class="text-center"
            [innerHTML]="highlightSearchText(searchText, report.fechaRecibido)"
          ></td>
          <td
            class="text-center"
            [innerHTML]="highlightSearchText(searchText, report.tienda)"
          ></td>

          <td *ngIf="report.entregado" class="text-center">
            <i class="pi pi-check" style="color: green"></i>
          </td>

          <td *ngIf="!report.entregado" class="text-center">
            <i class="pi pi-times" style="color: red"></i>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </section>
</main>
